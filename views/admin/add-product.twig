
{{ register_asset_bundle('app/assets/AddProductsAsset') }}

{% include '@app/views/parts/user-buttons.twig' %}

{% include '@app/views/parts/admin-menu.twig' %}

<p>Здесь вы можете добавить новый товар в базу данных.</p>

<p><strong>Add product</strong></p>

{{ use('yii/widgets/ActiveForm') }}

{% set form=active_form_begin({'action':url.to({0:'admin/add-products'}), 'method':'POST', 'options':{'id':'add-product-form', 'enctype':'multipart/form-data'}}) %}
    {{ form.field(productsModel, 'code') | raw }}
    {{ form.field(productsModel, 'name') | raw }}
    {{ form.field(productsModel, 'short_description').textarea() | raw }}
    {{ form.field(productsModel, 'description').textarea() | raw }}
    {{ form.field(productsModel, 'price').input('number', {'step':'any'}) | raw }}
    {{ form.field(brandsModel, 'id').dropDownList(array.merge({'':'------------------------'}, array.map(brandsList, 'id', 'brand'))).label('Brands') | raw }}
    {{ form.field(colorsModel, 'idArray').checkboxList(array.map(colorsList, 'id', 'color'), {'multiple':true}).label('Colors') | raw }}
    {{ form.field(sizesModel, 'idArray').checkboxList(array.map(sizesList, 'id', 'size'), {'multiple':true}).label('Sizes') | raw }}
    {{ form.field(productsModel, 'imagesToLoad[]').fileInput({'accept':'image/*', 'multiple':true}) | raw }}
    {{ form.field(productsModel, 'id_categories').dropDownList(array.merge({'':'------------------------'}, array.map(categoriesList, 'id', 'name'))) | raw }}
    {{ form.field(productsModel, 'id_subcategory').dropDownList({'':'------------------------'}) | raw }}
    {{ form.field(productsModel, 'total_products') | raw }}
    {{ form.field(productsModel, 'active').checkbox() | raw }}
    <input type="submit" value="Add product" >
{{ active_form_end() }}
