
<p><strong>Sorting</strong></p>

{{ use('yii/widgets/ActiveForm') }}

{% set form=active_form_begin({'id':'filters-admin-form', 'action':url.to({0:'filter/add-filters-admin'}), 'method':'POST'}) %}
    {{ form.field(filtersModel, 'sortingField').dropDownList({'':'По дате добавления', 'price':'По цене'}) | raw }}
    {{ form.field(filtersModel, 'sortingType').dropDownList({'DESC':'По убыванию', 'ASC':'По возростанию'}) | raw }}
    {{ form.field(filtersModel, 'colors').checkboxList(array.map(colorsList, 'id', 'color')) | raw }}
    {{ form.field(filtersModel, 'sizes').checkboxList(array.map(sizesList, 'id', 'size')) | raw }}
    {{ form.field(filtersModel, 'brands').checkboxList(array.map(brandsList, 'id', 'brand')) | raw }}
    
    {{ form.field(productsModelFilter, 'id_categories').dropDownList(array.merge({'':'------------------------'}, array.map(categoriesList, 'id', 'name'))) | raw }}
    {{ form.field(productsModelFilter, 'id_subcategory').dropDownList(array.merge({'':'------------------------'}, subcategoryHelper.getSubcategory(productsModelFilter.id_categories | default(null)))) | raw }}
    
    {{ form.field(filtersModel, 'getActive').checkbox() | raw }}
    {{ form.field(filtersModel, 'getNotActive').checkbox() | raw }}
    
    {{ form.field(filtersModel, 'categories').hiddenInput({'value':app.request.get(app.params.categoryKey)}).label(false) | raw }}
    {{ form.field(filtersModel, 'subcategory').hiddenInput({'value':app.request.get(app.params.subCategoryKey)}).label(false) | raw }}
    {{ form.field(filtersModel, 'search').hiddenInput({'value':app.request.get(app.params.searchKey)}).label(false) | raw }}
    <input type="submit" value="Apply" />
{{ active_form_end() }}

{% include '@app/views/parts/clean-filters-admin.twig' %}
