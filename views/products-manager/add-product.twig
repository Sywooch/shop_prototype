
{{ register_asset_bundle('app/assets/AddProductsAsset') }}

{% include '@app/views/parts/user-buttons.twig' %}

{% include '@app/views/parts/short-cart.twig' %}

{% include '@app/views/parts/search.twig' %}

{% include '@app/views/parts/menu.twig' %}

<p><strong>Add product</strong></p>

{{ use('yii/widgets/ActiveForm') }}

{% set form=active_form_begin({'action':'', 'method':'POST', 'options':{'id':'add-product-form', 'enctype':'multipart/form-data'}}) %}
    {{ form.field(productsModelForAddProduct, 'code') | raw }}
    {{ form.field(productsModelForAddProduct, 'name') | raw }}
    {{ form.field(productsModelForAddProduct, 'short_description').textarea() | raw }}
    {{ form.field(productsModelForAddProduct, 'description').textarea() | raw }}
    {{ form.field(productsModelForAddProduct, 'price').input('number', {'step':'any'}) | raw }}
    {{ form.field(brandsModelForAddToCart, 'id').dropDownList(array.merge({'':'Choose brand'}, array.map(brandsList, 'id', 'brand'))).label('Brands') | raw }}
    {{ form.field(colorsModelForAddToCart, 'idArray').checkboxList(array.map(colorsList, 'id', 'color'), {'multiple':true}).label('Colors') | raw }}
    {{ form.field(sizesModelForAddToCart, 'idArray').checkboxList(array.map(sizesList, 'id', 'size'), {'multiple':true}).label('Sizes') | raw }}
    {{ form.field(productsModelForAddProduct, 'imagesToLoad[]').fileInput({'accept':'image/*', 'multiple':true}) | raw }}
    {{ form.field(productsModelForAddProduct, 'id_categories').dropDownList(array.merge({'':'Choose categoy'}, objectsToArrayHelper.getCategoriesToAddProductArray(categoriesList))) | raw }}
    {{ form.field(productsModelForAddProduct, 'id_subcategory').dropDownList({'':'Choose subcategory'}) | raw }}
    <input type="submit" value="Add product" >
{{ active_form_end() }}
